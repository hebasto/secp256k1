{
  "version": 3,
  "configurePresets": [
    {
      "name": "dev-enable-all-modules",
      "hidden": true,
      "cacheVariables": {
        "SECP256K1_ENABLE_MODULE_ECDH": "ON",
        "SECP256K1_ENABLE_MODULE_RECOVERY": "ON",
        "SECP256K1_ENABLE_MODULE_EXTRAKEYS": "ON",
        "SECP256K1_ENABLE_MODULE_SCHNORRSIG": "ON",
        "SECP256K1_ENABLE_MODULE_MUSIG": "ON",
        "SECP256K1_ENABLE_MODULE_ELLSWIFT": "ON"
      }
    },
    {
      "name": "dev-mode",
      "displayName": "Development mode (intended only for developers of the library)",
      "inherits": "dev-enable-all-modules",
      "cacheVariables": {
        "SECP256K1_EXPERIMENTAL": "ON",
        "SECP256K1_BUILD_EXAMPLES": "ON"
      },
      "warnings": {
        "dev": true,
        "uninitialized": true
      }
    },
    {
      "name": "coverage",
      "displayName": "Enable code coverage analysis",
      "inherits": "dev-enable-all-modules",
      "binaryDir": "build_coverage",
      "cacheVariables": {
        "CMAKE_BUILD_TYPE": "Coverage",
        "CMAKE_C_FLAGS_COVERAGE": "-DCOVERAGE -O0 -g --coverage",
        "CMAKE_EXE_LINKER_FLAGS_COVERAGE": "--coverage",
        "CMAKE_SHARED_LINKER_FLAGS_COVERAGE": "--coverage",
        "SECP256K1_BUILD_TESTS": "ON",
        "SECP256K1_BUILD_EXHAUSTIVE_TESTS": "ON"
      },
      "environment": {
        "CMAKE_CONFIGURATION_TYPES": "Coverage"
      }
    }
  ],
  "buildPresets": [
    {
      "name": "coverage",
      "displayName": "Build for code coverage analysis",
      "configurePreset": "coverage",
      "targets": ["noverify_tests", "exhaustive_tests"],
      "configuration": "Coverage"
    }
  ],
  "testPresets": [
    {
      "name": "coverage",
      "displayName": "Generate data files for code coverage analysis",
      "configurePreset": "coverage",
      "configuration": "Coverage",
      "filter": {
        "include": {
          "name": "secp256k1_noverify_tests|secp256k1_exhaustive_tests"
        }
      }
    }
  ]
}
